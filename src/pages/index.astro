---
import Layout from '../layouts/Layout.astro';
import PropertyAnalysis from '../components/PropertyAnalysis.astro';
import FloorPlanning from '../components/FloorPlanning.astro';
import SystemPackages from '../components/SystemPackages.astro';
import CustomBuilder from '../components/CustomBuilder.astro';
import Consultation from '../components/Consultation.astro';
---

<Layout title="Security Consultation Platform">
    <div class="min-h-screen bg-gradient-to-br from-slate-900 to-blue-900">

        <!-- Header -->
        <header class="bg-gradient-to-r from-slate-800 to-blue-800 text-white relative overflow-hidden">
            <div class="absolute inset-0 bg-grid-pattern opacity-10"></div>
            <div class="relative z-10 max-w-7xl mx-auto px-6 py-16 text-center">
                <h1 class="text-5xl font-light mb-4">üè† Security Buddy</h1>
                <p class="text-xl opacity-90">Professional Security Consultation & Planning Platform</p>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="bg-slate-700 border-b-4 border-blue-500">
            <div class="max-w-7xl mx-auto">
                <div class="flex flex-wrap" id="nav-tabs">
                    <button class="nav-tab active" data-tab="property-analysis">
                        1. Property Analysis
                    </button>
                    <button class="nav-tab" data-tab="floor-planning">
                        2. Floor Planning
                    </button>
                    <button class="nav-tab" data-tab="system-packages">
                        3. System Packages
                    </button>
                    <button class="nav-tab" data-tab="custom-builder">
                        4. Custom Builder
                    </button>
                    <button class="nav-tab" data-tab="consultation">
                        5. Consultation
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="max-w-7xl mx-auto px-6 py-8">

            <!-- Property Analysis Tab -->
            <div id="property-analysis" class="tab-content active">
                <PropertyAnalysis />
            </div>

            <!-- Floor Planning Tab -->
            <div id="floor-planning" class="tab-content">
                <FloorPlanning />
            </div>

            <!-- System Packages Tab -->
            <div id="system-packages" class="tab-content">
                <SystemPackages />
            </div>

            <!-- Custom Builder Tab -->
            <div id="custom-builder" class="tab-content">
                <CustomBuilder />
            </div>

            <!-- Consultation Tab -->
            <div id="consultation" class="tab-content">
                <Consultation />
            </div>

        </main>
    </div>
</Layout>

<style>
    .nav-tab {
        @apply flex-1 px-6 py-4 text-white font-medium transition-all duration-300 hover:bg-white/10 border-b-4 border-transparent;
    }

    .nav-tab.active {
        @apply bg-blue-600 border-red-500;
    }

    .tab-content {
        @apply hidden animate-fade-in;
    }

    .tab-content.active {
        @apply block;
    }

    .bg-grid-pattern {
        background-image:
                linear-gradient(rgba(255,255,255,.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,.1) 1px, transparent 1px);
        background-size: 20px 20px;
    }

    @keyframes fade-in {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .animate-fade-in {
        animation: fade-in 0.5s ease-out;
    }
</style>

<script>
    // Tab switching functionality
    document.addEventListener('DOMContentLoaded', function() {
        const tabs = document.querySelectorAll('.nav-tab');
        const contents = document.querySelectorAll('.tab-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const targetTab = tab.dataset.tab;

                // Remove active class from all tabs and contents
                tabs.forEach(t => t.classList.remove('active'));
                contents.forEach(c => c.classList.remove('active'));

                // Add active class to clicked tab and corresponding content
                tab.classList.add('active');
                document.getElementById(targetTab).classList.add('active');
            });
        });
    });
</script>
